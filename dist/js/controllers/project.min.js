EMAPP.templateCache.put("dist/html/project.min.html?rev=1a37ee32f3",'<div ng-controller="EMAPP.project as self" class="app-view-project"><nav class="navbar navbar-default"><div class="col-sm-4" ng-bind="self.projectName"></div><div class="col-sm-4 text-center"><i class="em em-clock"></i> <span ng-bind="self.timeStr"></span></div><div class="col-sm-4 text-right"><a href="http://admin.cloudenergy.me"><i class="em em-user"></i> <span ng-bind="self.userName"></span></a> <a ui-sref="logout"><span>退出</span> <i class="em em-exit"></i></a></div></nav><div class="view-sidebar"><ul class="nav"><li ng-repeat="item in self.menuData" ng-class="{active:item.active}"><a ui-sref="{{item.state}}" title="{{item.name}}"><i ng-class="item.icon"></i></a></li></ul></div><div class="view-content" ui-view="dashboard"></div></div>'),EMAPP.register.controller("EMAPP.project",["$rootScope","$state","$timeout","$api",function(t,e,a,r){var n=this;return n.userName=EMAPP.User.user,a(function o(){var t=new Date,e=(t.getYear(),t.getMonth()+1,t.getDate(),t.getHours()),r=t.getMinutes(),c=t.getSeconds();9>=r&&(r="0"+r),9>=c&&(c="0"+c),n.timeStr=e+":"+r+":"+c,a(o,1e3)}),r.project.info(function(a){a&&a.result&&a.result.length&&(angular.forEach(a.result,function(t){this.push(t)},EMAPP.Project=[]),document.title=EMAPP.Project.name=n.projectName="集团平台",EMAPP.Project.current=EMAPP.Project[0]||{},1===a.result.length&&(document.title=EMAPP.Project.name=n.projectName=EMAPP.Project.current.title||n.projectName),n.menuData=EMAPP.Menu,t.$on("$stateChangeStart",function(t,e,a,r,o){return"dashboard"===e.name&&"login"!==r.name?void(t.preventDefault&&t.preventDefault()):void angular.forEach(n.menuData,function(t,a){delete t.active,t.state===e.name&&(t.active=!0,document.title=n.projectName+" - "+t.name)})}),e.last=e.last.replace(/\#.*/,""),("dashboard"===e.last||"dashboard.login"===e.last)&&(e.last=""),e.go(e.last||"dashboard.main"))}),n}]);