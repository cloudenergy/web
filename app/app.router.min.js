angular.module("app").config(["$locationProvider","$urlRouterProvider","$stateProvider",function(e,a,o){o.state("auth",{url:"/dashboard/auth/:action",template:"<auth></auth>",resolve:{deps:["$ocLazyLoad",function(e){return document.title="用户登录",e.load(["//cdn.bootcss.com/angular.js/1.5.8/angular-cookies.min.js","//cdn.bootcss.com/angular-md5/0.1.10/angular-md5.min.js","app/modules/auth/auth.min.css?rev=954733ed13","app/modules/auth/auth.min.js?rev=dc0f13e016"])}]}}).state("dashboard",{abstract:!0,url:"/dashboard{projectid}",template:"<dashboard></dashboard>",resolve:{deps:["$ocLazyLoad",function(e){return document.title="",e.load(["//cdn.bootcss.com/angular.js/1.5.8/angular-sanitize.min.js","app/modules/dashboard/dashboard.min.css?rev=e94a66349e","app/modules/dashboard/dashboard.min.js?rev=6d56479ec2","app/services/menu.min.js?rev=85e9f357e0","app/services/project.min.js?rev=fa1678701f","app/components/autoHeight.min.js?rev=4531c05ae0","app/directives/datetimepicker.min.js?rev=a0aecb3774","app/directives/perfect-scrollbar.min.js?rev=bc8a7bd840"])}],prelink:["$rootScope","$q","$state","deps","SweetAlert","MENUCONFIG","Project",function(e,a,o,t,n,s,r){var i=a.defer();return angular.forEach(s,function(e){APP.User.groupmode?e.groupmode&&this.push(e):this.push(e)},e.menuData=[]),o.notfound=!0,angular.forEach(e.menuData,function(e){o.prev.state&&~o.prev.state.indexOf(e.state)&&delete o.notfound}),o.notfound?(delete o.notfound,i.reject(),o.transitionTo("dashboard.main",o.prev.params)):r().then(i.resolve,function(){i.reject(),n.warning("没有可用项目")}),i.promise}]}}).state("dashboard.main",{url:"/main",template:"<main></main>",resolve:{deps:["$ocLazyLoad",function(e){return e.load(["app/modules/main/main.min.css?rev=eab667fc92","app/modules/main/main.min.js?rev=0bd5e33850","app/components/highcharts.min.js?rev=7dc92aaae9"])}]}}).state("dashboard.monitor",{url:"/monitor",template:"<monitor></monitor>",resolve:{deps:["$ocLazyLoad",function(e){return e.load(["//cdn.bootcss.com/angular-ui-grid/3.2.9/ui-grid.min.css","//cdn.bootcss.com/angular-ui-grid/3.2.9/ui-grid.min.js","app/modules/monitor/monitor.min.css?rev=0d2accdea2","app/modules/monitor/monitor.min.js?rev=c434c53b54","app/components/highcharts.min.js?rev=7dc92aaae9","app/components/switch.min.js?rev=aa94d5d99a","app/components/jstree.min.js?rev=066b3d14e7","app/components/customer/customer.min.js?rev=3d993b027e"])}]}}).state("dashboard.control",{url:"/control",template:"<control></control>",resolve:{deps:["$ocLazyLoad",function(e){return e.load(["//cdn.bootcss.com/jshashes/1.0.5/hashes.min.js","app/modules/control/control.min.css?rev=5d5606472a","app/modules/control/control.min.js?rev=3fe696db2c","app/components/checkbox.min.js?rev=df5649d26f","app/components/switch.min.js?rev=aa94d5d99a","app/components/jstree.min.js?rev=066b3d14e7","app/components/customer/customer.min.js?rev=3d993b027e"])}]}}).state("dashboard.analyze",{url:"/analyze",template:"<analyze></analyze>",resolve:{deps:["$ocLazyLoad",function(e){return e.load(["app/modules/analyze/analyze.min.css?rev=129d40f9d1","app/modules/analyze/analyze.min.js?rev=9194efcb35","app/components/highcharts.min.js?rev=7dc92aaae9"])}]}}).state("dashboard.statistic",{url:"/statistic/:tab",template:"<statistic></statistic>",resolve:{deps:["$ocLazyLoad",function(e){return e.load(["//cdn.bootcss.com/angular-ui-grid/3.2.9/ui-grid.min.css","//cdn.bootcss.com/angular-ui-grid/3.2.9/ui-grid.min.js","app/modules/statistic/statistic.min.css?rev=88c116dc8b","app/modules/statistic/statistic.min.js?rev=dd835f5ae0"])}]}}).state("dashboard.financial",{url:"/financial/:tab",template:"<financial></financial>",resolve:{deps:["$ocLazyLoad",function(e){return e.load(["//cdn.bootcss.com/angular-ui-grid/3.2.9/ui-grid.min.css","//cdn.bootcss.com/angular-ui-grid/3.2.9/ui-grid.min.js","app/modules/statistic/statistic.min.css?rev=88c116dc8b","app/modules/financial/financial.min.js?rev=cbad6fc91a"])}]}}),e.html5Mode(!0),a.otherwise(function(e,a){a.otherwise=!0})}]).run(["$rootScope","$location","$state","User",function(e,a,o,t){o.prev={},e.$on("$locationChangeSuccess",function(e){a.otherwise&&(delete a.otherwise,e.preventDefault(),o.transitionTo("dashboard.main"))}),e.$on("$stateChangeStart",function(e,a,n){n.projectid&&(sessionStorage.projectid=n.projectid,delete n.projectid),"auth"===a.name?(delete sessionStorage.projectid,delete APP.Project,delete APP.User):(o.prev.state=a.name,o.prev.params=n,APP.User||(e.preventDefault(),t.login().then(function(){o.transitionTo(o.prev.state,o.prev.params)},function(){o.go("auth",{action:"login"})})))})}]);