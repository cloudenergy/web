angular.module("app").component("water",{templateUrl:"app/modules/water/water.html?rev=13f6714190",controller:["$scope","$element","$timeout","$api",function(l,c,w,n){var m=this,u=APP.Project[0].id,i={1:{},2:{},3:{},4:{},5:{},6:{},7:{},8:{},9:{},10:{},11:{},12:{},13:{},14:{},15:{},16:{1:{wlc:"wlc16-1",wlcnum:"wlcnum16-1",wlcid:"110100A11119000000000000520000"},2:{wlc:"wlc16-2",wlcnum:"wlcnum16-2",wlcid:"110100A11119000000000000490000"},3:{wlc:"wlc16-3",wlcnum:"wlcnum16-3",wlcid:"110100A11119000000000000500000"},4:{wlc:"wlc16-4",wlcnum:"wlcnum16-4",wlcid:"110100A11119000000000000510000"},5:{wlc:"wlc16-5",wlcnum:"wlcnum16-5",wlcid:"110100A11119000000000000530000"},6:{wlc:"wlc16-6",wlcnum:"wlcnum16-6",wlcid:"110100A11119000000000000570000"},7:{wlc:"wlc16-7",wlcnum:"wlcnum16-7",wlcid:"110100A11119000000000000550000"},8:{wlc:"wlc16-8",wlcnum:"wlcnum16-8",wlcid:"110100A11119000000000000580000"},9:{wlc:"wlc16-9",wlcnum:"wlcnum16-9",wlcid:"110100A11119000000000000590000"},10:{wlc:"wlc16-10",wlcnum:"wlcnum16-10",wlcid:"110100A11119000000000000600000"},11:{wlc:"wlc16-11",wlcnum:"wlcnum16-11",wlcid:"110100A11119000000000000610000"},12:{wlc:"wlc16-12",wlcnum:"wlcnum16-12",wlcid:"110100A11119000000000000620000"},13:{wlc:"wlc16-13",wlcnum:"wlcnum16-13",wlcid:"110100A11119000000000000630000"},14:{wlc:"wlc16-14",wlcnum:"wlcnum16-14",wlcid:"110100A11119000000000000640000"},15:{wlc:"wlc16-15",wlcnum:"wlcnum16-15",wlcid:"110100A11119000000000000650000"},16:{wlc:"wlc16-16",wlcnum:"wlcnum16-16",wlcid:"110100A11119000000000000660000"},17:{wlc:"wlc16-17",wlcnum:"wlcnum16-17",wlcid:"110100A11119000000000000510000"},18:{wlc:"wlc16-18",wlcnum:"wlcnum16-18",wlcid:"110100A11119000000000000450000"},19:{wlc:"wlc16-19",wlcnum:"wlcnum16-19",wlcid:"110100A11119000000000000460000"},20:{wlc:"wlc16-20",wlcnum:"wlcnum16-20",wlcid:"110100A11119000000000000470000"},21:{wlc:"wlc16-21",wlcnum:"wlcnum16-21",wlcid:"110100A11119000000000000480000"},22:{wlc:"wlc16-22",wlcnum:"wlcnum16-22",wlcid:"110100A11119000000000000670000"},23:{wlc:"wlc16-23",wlcnum:"wlcnum16-23",wlcid:"110100A11119000000000000680000"},24:{wlc:"wlc16-24",wlcnum:"wlcnum16-24",wlcid:"110100A11119000000000000690000"},25:{wlc:"wlc16-25",wlcnum:"wlcnum16-25",wlcid:"110100A11119000000000000700000"},26:{wlc:"wlc16-26",wlcnum:"wlcnum16-26",wlcid:"110100A11119000000000000710000"}},17:{1:{wlc:"wlc17-1",wlcnum:"wlcnum17-1",wlcid:"110100A11118000000000000010000"},2:{wlc:"wlc17-2",wlcnum:"wlcnum17-2",wlcid:"110100A11118000000000000040000"},3:{wlc:"wlc17-3",wlcnum:"wlcnum17-3",wlcid:"110100A11118000000000000050000"},4:{wlc:"wlc17-4",wlcnum:"wlcnum17-4",wlcid:"110100A11118000000000000070000"},5:{wlc:"wlc17-5",wlcnum:"wlcnum17-5",wlcid:"110100A11118000000000000180000"},6:{wlc:"wlc17-6",wlcnum:"wlcnum17-6",wlcid:"110100A11118000000000000190000"},7:{wlc:"wlc17-7",wlcnum:"wlcnum17-7",wlcid:"110100A11118000000000000200000"},8:{wlc:"wlc17-8",wlcnum:"wlcnum17-8",wlcid:"110100A11118000000000000030000"},9:{wlc:"wlc17-9",wlcnum:"wlcnum17-9",wlcid:"110100A11118000000000000020000"},10:{wlc:"wlc17-10",wlcnum:"wlcnum17-10",wlcid:"110100A11118000000000000060000"},11:{wlc:"wlc17-11",wlcnum:"wlcnum17-11",wlcid:"110100A11118000000000000080000"},12:{wlc:"wlc17-12",wlcnum:"wlcnum17-12",wlcid:"110100A11118000000000000090000"},13:{wlc:"wlc17-13",wlcnum:"wlcnum17-13",wlcid:"110100A11118000000000000100000"},14:{wlc:"wlc17-14",wlcnum:"wlcnum17-14",wlcid:"110100A11118000000000000110000"},15:{wlc:"wlc17-15",wlcnum:"wlcnum17-15",wlcid:"110100A11118000000000000120000"},16:{wlc:"wlc17-16",wlcnum:"wlcnum17-16",wlcid:"110100A11118000000000000130000"},17:{wlc:"wlc17-17",wlcnum:"wlcnum17-17",wlcid:"110100A11118000000000000140000"},18:{wlc:"wlc17-18",wlcnum:"wlcnum17-18",wlcid:"110100A11118000000000000150000"},19:{wlc:"wlc17-19",wlcnum:"wlcnum17-19",wlcid:"110100A11118000000000000160000"},20:{wlc:"wlc17-20",wlcnum:"wlcnum17-20",wlcid:"110100A11118000000000000170000"}},18:{},19:{}};l.$watch("$ctrl.customerSelected",function(l){m.showpanel=!1,m.meters=i[m.customerSelected||"1"],"OTHER"!==l&&(l?m.height=l<5||l>=20?750:650:m.height=750,m.imgUrl=l&&"app/img/"+l.toString()+".png"||"app/img/1.png?rev=cdef50fa4e",m.alt=l&&l.toString()+"楼"||"1楼",n.business.monitor({devicetype:"WLC",project:u,mode:"SENSOR",pagesize:64},function(l){m.WLC=l.result[u].detail||{},m.abnormalmeter=[],m.leakmeter=[],angular.forEach(m.WLC,function(l){angular.forEach(i[m.customerSelected||"1"],function(c){c.wlcid==l.id&&(0!=l.status&&(c.abnormalcommunication=!0,m.abnormalmeter.push(l)),0!=l.channels["01"].lasttotal&&(c.leakage=!0,m.leakmeter.push(l)),c.wlcValue=l.channels["01"].lasttotal)})}),console.log(m.abnormalmeter)}))}),m.meter=function(l,c){m.meternum=l,angular.forEach(i[m.customerSelected||"1"],function(w){l==w.wlcid&&(m.currentnum=w[c+"Value"])}),n.sensor.info({id:l},function(l){m.readnum=l.result.statistic,m.title=l.result.title+"WLC"})}}]});