angular.module("app").component("environment",{templateUrl:"app/modules/environment/environment.html?rev=dad6ea1101",controller:["$scope","$element","$timeout","$api",function(o,c,n,u){var v,m=this,e=APP.Project[0].id,i={1:{1:{co2:"co1-1",co2num:"co2num1-1",voc:"voc1-1",vocnum:"vocnum1-1",coid:"110100A11117000000000000160000",vocid:"110100A11113000000000000160000"}},2:{1:{co2:"co2-1",co2num:"co2num2-1",voc:"voc2-1",vocnum:"vocnum2-1",coid:"110100A11117000000000000200000",vocid:"110100A11113000000000000200000"},2:{co2:"co2-2",co2num:"co2num2-2",voc:"voc2-2",vocnum:"vocnum2-2",coid:"110100A11117000000000000190000",vocid:"110100A11113000000000000190000"},3:{co2:"co2-3",co2num:"co2num2-3",voc:"voc2-3",vocnum:"vocnum2-3",coid:"110100A11117000000000000170000",vocid:"110100A11113000000000000170000"},4:{co2:"co2-4",co2num:"co2num2-4",voc:"voc2-4",vocnum:"vocnum2-4",coid:"110100A11117000000000000180000",vocid:"110100A11113000000000000180000"}},3:{1:{co2:"co3-1",co2num:"co2num3-1",voc:"voc3-1",vocnum:"vocnum3-1",coid:"110100A11117000000000000210000",vocid:"110100A11113000000000000210000"}},4:{1:{co2:"co4-1",co2num:"co2num4-1",voc:"voc4-1",vocnum:"vocnum4-1",coid:"110100A11117000000000000280000",vocid:"110100A11116000000000000280000"},2:{co2:"co4-2",co2num:"co2num4-2",voc:"voc4-2",vocnum:"vocnum4-2",coid:"110100A11117000000000000270000",vocid:"110100A11116000000000000270000"}},5:{1:{co2:"co5-1",co2num:"co2num5-1",voc:"voc5-1",vocnum:"vocnum5-1",coid:"110100A11117000000000000020000",vocid:"110100A11116000000000000020000"}},6:{1:{co2:"co5-1",co2num:"co2num5-1",voc:"voc5-1",vocnum:"vocnum5-1",coid:"110100A11117000000000000030000",vocid:"110100A11116000000000000030000"}},7:{1:{co2:"co5-1",co2num:"co2num5-1",voc:"voc5-1",vocnum:"vocnum5-1",coid:"110100A11117000000000000040000",vocid:"110100A11116000000000000040000"}},8:{1:{co2:"co5-1",co2num:"co2num5-1",voc:"voc5-1",vocnum:"vocnum5-1",coid:"110100A11117000000000000050000",vocid:"110100A11116000000000000050000"}},9:{1:{co2:"co5-1",co2num:"co2num5-1",voc:"voc5-1",vocnum:"vocnum5-1",coid:"110100A11117000000000000060000",vocid:"110100A11116000000000000060000"}},10:{1:{co2:"co5-1",co2num:"co2num5-1",voc:"voc5-1",vocnum:"vocnum5-1",coid:"110100A11117000000000000070000",vocid:"110100A11117100000000000070000"}},11:{1:{co2:"co5-1",co2num:"co2num5-1",voc:"voc5-1",vocnum:"vocnum5-1",coid:"110100A11117000000000000080000",vocid:"110100A11117100000000000080000"}},12:{1:{co2:"co5-1",co2num:"co2num5-1",voc:"voc5-1",vocnum:"vocnum5-1",coid:"110100A11117000000000000090000",vocid:"110100A11117100000000000090000"}},13:{1:{co2:"co5-1",co2num:"co2num5-1",voc:"voc5-1",vocnum:"vocnum5-1",coid:"110100A11117000000000000100000",vocid:"110100A11117100000000000100000"}},14:{1:{co2:"co5-1",co2num:"co2num5-1",voc:"voc5-1",vocnum:"vocnum5-1",coid:"110100A11117000000000000110000",vocid:"110100A11117100000000000110000"}},15:{1:{co2:"co15-1",co2num:"co2num15-1",voc:"voc15-1",vocnum:"vocnum15-1",coid:"110100A11117000000000000290000",vocid:"110100A11117100000000000290000"},2:{co2:"co15-2",co2num:"co2num15-2",voc:"voc15-2",vocnum:"vocnum15-2",coid:"110100A11117000000000000300000",vocid:"110100A11117100000000000300000"}},16:{1:{co2:"co16-1",co2num:"co2num16-1",voc:"voc16-1",vocnum:"vocnum16-1",coid:"110100A11117000000000000310000",vocid:"110100A11117100000000000310000"},2:{co2:"co16-2",co2num:"co2num16-2",voc:"voc16-2",vocnum:"vocnum16-2",coid:"110100A11117000000000000320000",vocid:"110100A11117100000000000320000"}},17:{},18:{},19:{1:{co2:"cob1-1",co2num:"co2numb1-1",voc:"vocb1-1",vocnum:"vocnumb1-1",coid:"110100A11117000000000000120000",vocid:"110100A11113000000000000120000"},2:{co2:"cob1-2",co2num:"co2numb1-2",voc:"vocb1-2",vocnum:"vocnumb1-2",coid:"110100A11117000000000000130000",vocid:"110100A11113000000000000130000"}},20:{}};o.$watch("$ctrl.customerSelected",function(o){m.meters=i[m.customerSelected||"1"],m.showpanel=!1,"OTHER"!==o&&(o?m.height=o<5||o>=19?750:650:m.height=750,m.imgUrl=o&&"app/img/"+o.toString()+".png"||"app/img/1.png?rev=cdef50fa4e",m.alt=o&&o.toString()+"层"||"1层",u.business.monitor({devicetype:"VOC",project:e,mode:"SENSOR",usesocity:1,socitynode:m.customerSelected?m.customerSelected:"1",pagesize:50},function(o){m.voc=o.result[e].detail||[],angular.forEach(m.voc,function(o){angular.forEach(i[m.customerSelected||"1"],function(c){c.vocid==o.id&&(c.vocValue=o.channels["01"].lasttotal)})})}),u.business.monitor({devicetype:"CO2",project:e,mode:"SENSOR",usesocity:1,socitynode:m.customerSelected?m.customerSelected:"1",pagesize:50},function(o){m.co2=o.result[e].detail||[],angular.forEach(m.co2,function(o){angular.forEach(i[m.customerSelected||"1"],function(c){c.coid==o.id&&(c.co2Value=o.channels["01"].lasttotal)})})}))}),m.meter=function(o,c){m.meternum=o,m.showpanel=v!=o,v=v!==o?o:void 0,angular.forEach(i[m.customerSelected||"1"],function(n){o!=n.vocid&&o!=n.coid||(m.currentnum=n[c+"Value"])}),u.sensor.info({id:o},function(o){m.readnum=o.result.statistic,m.title=o.result.title+c})}}]});