angular.module("app").service("User",["$q","$api","md5",function(e,r,o){this.login=function(o){var t=e.defer();return r.auth.login(o||{},function(e){APP.User=e.result||{},APP.User.groupmode=APP.User.groupuser&&!sessionStorage.projectid,APP.User.token?t.resolve(e):t.reject(e)},function(e){t.reject(e)}),t.promise},this.logout=function(o){var t=e.defer();return r.auth.logout(o,function(){delete APP.User,t.resolve()}),t.promise}}]);